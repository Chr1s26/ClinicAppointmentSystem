<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Clinic Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/assets/css/styles.css}">
</head>

<body class="bg-light">

<div class="container-fluid">
    <div class="row">

        <!-- SIDEBAR -->
        <div class="col-12 col-md-3 col-lg-2 p-0">
            <div th:insert="fragments/sidebar :: sidebar"></div>
        </div>

        <!-- MAIN CONTENT -->
        <main class="col p-4">

            <!-- HEADER -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h2 class="fw-bold">Clinic Dashboard</h2>
                    <p class="text-muted">Welcome to the Clinic Appointment System</p>
                </div>
            </div>

            <div th:if="${needsPatientInfo}" class="alert alert-warning d-flex justify-content-between align-items-center">
                <span><strong>Please complete your profile information.</strong></span>

                <a th:href="@{/profile}" class="btn btn-warning btn-sm">
                    Complete Profile
                </a>
            </div>


            <!-- QUICK STATS -->
            <div class="row g-4 mb-4">

                <div class="col-6 col-md-3">
                    <div class="card p-3 shadow-sm h-100">
                        <h6 class="text-muted">Total Appointments</h6>
                        <!-- use controller attribute totalAppointment -->
                        <h3 class="fw-bold" th:text="${totalAppointment != null ? totalAppointment : 0}">0</h3>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card p-3 shadow-sm h-100">
                        <h6 class="text-muted">Doctors</h6>
                        <!-- use controller attribute totalDoctor -->
                        <h3 class="fw-bold" th:text="${totalDoctor != null ? totalDoctor : 0}">0</h3>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card p-3 shadow-sm h-100">
                        <h6 class="text-muted">Patients</h6>
                        <!-- use controller attribute totalPatient -->
                        <h3 class="fw-bold" th:text="${totalPatient != null ? totalPatient : 0}">0</h3>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card p-3 shadow-sm h-100">
                        <h6 class="text-muted">Departments</h6>
                        <!-- use controller attribute totalDepartment -->
                        <h3 class="fw-bold" th:text="${totalDepartment != null ? totalDepartment : 0}">0</h3>
                    </div>
                </div>

            </div>

            <!-- MAIN ACTIONS -->
            <div class="row g-4">

                <div class="col-md-6">
                    <div class="card p-4 shadow-sm h-100">
                        <h4 class="fw-bold">Book an Appointment</h4>
                        <p class="text-muted mb-3">Schedule a visit with an available doctor</p>
                        <a th:href="@{/appointments/book}" class="btn btn-success w-100">Book Appointment</a>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card p-4 shadow-sm h-100">
                        <h4 class="fw-bold">Your Appointments</h4>
                        <p class="text-muted mb-3">View upcoming and past bookings</p>
                        <a th:href="@{/appointments}" class="btn btn-primary w-100">View Appointments</a>
                    </div>
                </div>

            </div>

        </main>

    </div>
</div>

</body>
</html>
